{% from "macros/forms.html" import render_field %} 
{% extends 'template.focused.html' %} 

{% block body %}
<a class="button close_iframe"><i class="fa fa-times"></i></a>
<h1>Pages</h1>

<form method="post" action="{{ url_for('.search_pages') }}" class="card">
    <div class="body">
        <fieldset>
            <ul>
                {{ render_field(form.term, autofocus='autofocus', placeholder=form.term.description) }}
            </ul>
        </fieldset>
    </div>
    <div class="footer table">
        <div class="tr">
            <div class="actions td">
                <input class="button" type="submit" value="search">
            </div>
        </div>
    </div>
</form>

<div class="card">
    <div class="header table">
        <div class="tr">
            <h2 class="title td">{{ pages | length }} results {% if form.term.data != '' %} for "{{form.term.data}}" {% endif %}</h2>
        </div>
    </div>
    <ul>
        {% for record in pages %}
        <li><a href="{{ url_for('.read_page', id=record.id) }}">{{record.page}}</a>
        </li>
        {% endfor %}
    </ul>
</div>

{% endblock %}